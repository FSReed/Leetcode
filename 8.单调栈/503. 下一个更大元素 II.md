# [Description](https://leetcode.cn/problems/next-greater-element-ii/description/)

## Code

第一反应就是把数组复制一份，然后简单取模更新答案，写起来很快，但是性能似乎不太理想，看了[题解](https://leetcode.cn/problems/next-greater-element-ii/solutions/2820363/shi-pin-dan-diao-zhan-de-liang-chong-xie-k236)才发现`i >= n`的时候将数组元素入栈是多余的，因为这些元素只起到更新答案的作用，后续不会再出栈

```cpp
class Solution {
public:
    vector<int> nextGreaterElements(vector<int>& nums) {
        // 直接把数组复制到结尾一份
        int n = nums.size();
        std::vector<int> answer(n, -1);
        nums.reserve(n * 2);
        for (auto i = 0; i < n; ++i) {
            nums[i + n] = nums[i];
        }

        std::stack<int> stk;
        for (auto i = 0; i < 2 * n; ++i) {
            while (!stk.empty() && nums[i] > nums[stk.top()]) {
                // 更新元素
                // 这里对栈顶取余也是多余的
                answer[stk.top()] = nums[i % n];
                stk.pop();
            }
            // 这里有些入栈是多余的
            // stk.push(i);
            if (i < n) {
                stk.push(i);
            }
        }
        return answer;
    }
};
```
